<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>useState 구현</title>
  </head>

  <body>
    <h1>useState 구현</h1>
    <h2 id="displayCount">Count: 0</h2>
    <button id="buttonIncrement">누르면 증가해용</button>
    <script>
      let state;

      function useState(initialValue) {
        if (state === undefined) {
          state = initialValue;
        }

        function setState(updateState) {
          if (typeof updateState === "function") {
            state = updateState(state);
          } else {
            state = updateState;
          }

          render();
        }

        return [state, setState];
      }

      function render() {
        document.getElementById("displayCount").innerText = `Count: ${state}`;
      }

      // 실제실행함수
      // //case1.
      const [count, setCount] = useState(0);
      console.log("count", count);

      document
        .getElementById("buttonIncrement")
        .addEventListener("click", () => {
          // case1.
          setCount((count) => count + 1);

          // case 2.
          // const [count, setCount] = useState(0);
          // setCount(count + 1);
          // console.log("count", count);
        });
    </script>
  </body>
</html>
